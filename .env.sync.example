# ============================================================================
# GitHub Sync Service Configuration
# ============================================================================
# Copy this file to .env.sync and configure for your environment
# Load with: docker-compose --env-file .env.sync --profile sync up -d

# ============================================================================
# GitHub Authentication - Choose ONE method
# ============================================================================

# METHOD 1: Personal Access Token (simpler, for individual use)
# Create at: https://github.com/settings/tokens
# Required scopes: Contents (Read & Write), Pull Requests (Read & Write)
# GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# METHOD 2: GitHub App (recommended for production)
# Required scopes: Contents (Read & Write), Pull Requests (Read & Write)
# Setup instructions in SYNC_README.md
GITHUB_APP_ID=1234567
GITHUB_APP_INSTALLATION_ID=12345678

# Private Key: Choose ONE option
# Option A: Path to mounted PEM file (recommended for Docker)
GITHUB_APP_PRIVATE_KEY_PATH=/app/github-app-key.pem

# Option B: Inline key content (escape newlines as \n)
# GITHUB_APP_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----\nMIIE...\n-----END RSA PRIVATE KEY-----

# ============================================================================
# PRIMARY API Configuration
# ============================================================================

# URL of your PRIMARY instance (required)
# For Docker: use service name, e.g., http://horde-model-reference:19800
# For local: use localhost, e.g., http://localhost:19800
HORDE_GITHUB_SYNC_PRIMARY_API_URL=http://horde-model-reference:19800

# API request timeout in seconds
# HORDE_GITHUB_SYNC_PRIMARY_API_TIMEOUT=30

# ============================================================================
# GitHub Repository Configuration (Optional Overrides)
# ============================================================================

# Override default repositories (useful for testing with forks)
# HORDE_MODEL_REFERENCE_IMAGE_GITHUB_REPO_OWNER=Haidra-Org
# HORDE_MODEL_REFERENCE_IMAGE_GITHUB_REPO_NAME=AI-Horde-image-model-reference
# HORDE_MODEL_REFERENCE_IMAGE_GITHUB_REPO_BRANCH=main

# HORDE_MODEL_REFERENCE_TEXT_GITHUB_REPO_OWNER=Haidra-Org
# HORDE_MODEL_REFERENCE_TEXT_GITHUB_REPO_NAME=AI-Horde-text-model-reference
# HORDE_MODEL_REFERENCE_TEXT_GITHUB_REPO_BRANCH=main

# ============================================================================
# Sync Behavior
# ============================================================================

# Sync interval in seconds (default: 21600 = 6 hours)
SYNC_INTERVAL=21600

# Minimum number of changes required to create a PR
# HORDE_GITHUB_SYNC_MIN_CHANGES_THRESHOLD=1

# Comma-separated list of categories to sync (default: all)
# HORDE_GITHUB_SYNC_CATEGORIES_TO_SYNC=image_generation,text_generation

# Dry run mode - preview changes without creating PRs (true/false)
# HORDE_GITHUB_SYNC_DRY_RUN=false

# Enable verbose logging (true/false)
# HORDE_GITHUB_SYNC_VERBOSE_LOGGING=false

# ============================================================================
# Pull Request Configuration
# ============================================================================

# Comma-separated list of GitHub usernames to assign as reviewers
# HORDE_GITHUB_SYNC_PR_REVIEWERS=username1,username2

# Comma-separated list of labels to apply to PRs
# HORDE_GITHUB_SYNC_PR_LABELS=automated,sync,ready-for-review

# GitHub team to auto-assign for review (format: org-name/team-name)
# HORDE_GITHUB_SYNC_PR_AUTO_ASSIGN_TEAM=Haidra-Org/model-maintainers

# ============================================================================
# Git Commit Configuration
# ============================================================================

# Author/committer information for automated commits
GIT_AUTHOR_NAME=Horde Model Reference Bot
GIT_AUTHOR_EMAIL=bot@horde-model-reference.local
GIT_COMMITTER_NAME=Horde Model Reference Bot
GIT_COMMITTER_EMAIL=bot@horde-model-reference.local

# ============================================================================
# Advanced: Repository Clone Configuration
# ============================================================================

# Base directory for persistent repository clones (optional)
# If set, repos will be cloned once and reused across sync runs
# HORDE_GITHUB_SYNC_TARGET_CLONE_DIR=/data/github-repos

# Temporary directory for git operations (optional)
# HORDE_GITHUB_SYNC_SYNC_TEMP_DIR=/tmp/github-sync
