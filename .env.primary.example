# Example environment configuration for PRIMARY mode deployment
# Copy this to .env.primary and configure as needed

# ============================================================================
# PRIMARY Mode Configuration
# ============================================================================

# REQUIRED: Set to PRIMARY mode
HORDE_MODEL_REFERENCE_REPLICATE_MODE=PRIMARY

# Create folders automatically if they don't exist
HORDE_MODEL_REFERENCE_MAKE_FOLDERS=true

# Cache TTL in seconds (default: 60)
HORDE_MODEL_REFERENCE_CACHE_TTL_SECONDS=60

# ============================================================================
# Data Format Configuration
# ============================================================================

# Which format is canonical (controls which API has write access)
# - 'legacy': v1 API has CRUD, v2 API is read-only (converts from legacy to v2)
# - 'v2': v2 API has CRUD, v1 API is read-only (converts from v2 to legacy)
# Default is 'v2' but set to 'legacy' during transition period
HORDE_MODEL_REFERENCE_CANONICAL_FORMAT=legacy

# ============================================================================
# GitHub Seeding (First-Time Setup)
# ============================================================================

# Enable GitHub seeding on first startup if local files don't exist
# Set to 'true' for initial deployment, then change to 'false'
HORDE_MODEL_REFERENCE_GITHUB_SEED_ENABLED=false

# ============================================================================
# Redis Configuration (Multi-Worker Deployments Only)
# ============================================================================

# Enable Redis for distributed caching (required for multi-worker setups)
# HORDE_MODEL_REFERENCE_REDIS_USE_REDIS=true

# Redis connection URL
# HORDE_MODEL_REFERENCE_REDIS_URL=redis://redis:6379/0

# Redis connection pool size
# HORDE_MODEL_REFERENCE_REDIS_POOL_SIZE=10

# Redis TTL (uses cache_ttl_seconds if not specified)
# HORDE_MODEL_REFERENCE_REDIS_TTL_SECONDS=60

# Enable pub/sub for cache invalidation across workers
# HORDE_MODEL_REFERENCE_REDIS_USE_PUBSUB=true

# ============================================================================
# Data Directory
# ============================================================================

# Cache home directory (set by Docker, but can be overridden)
# AIWORKER_CACHE_HOME=/data

# ============================================================================
# Optional: GitHub Repository Overrides (for testing/forks)
# ============================================================================

# Override default GitHub repositories (uncomment to use)
# HORDE_MODEL_REFERENCE_IMAGE_GITHUB_REPO_OWNER=Haidra-Org
# HORDE_MODEL_REFERENCE_IMAGE_GITHUB_REPO_NAME=AI-Horde-image-model-reference
# HORDE_MODEL_REFERENCE_IMAGE_GITHUB_REPO_BRANCH=main

# HORDE_MODEL_REFERENCE_TEXT_GITHUB_REPO_OWNER=Haidra-Org
# HORDE_MODEL_REFERENCE_TEXT_GITHUB_REPO_NAME=AI-Horde-text-model-reference
# HORDE_MODEL_REFERENCE_TEXT_GITHUB_REPO_BRANCH=main
